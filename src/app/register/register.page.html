<ion-header>
  <ion-toolbar>
    <ion-buttons>
      <ion-button (click)="goToLogin()"><ion-icon name="arrow-back-circle-outline"></ion-icon></ion-button>
    </ion-buttons>
  </ion-toolbar>

</ion-header>

<ion-content>
  <ion-card>
    <div class="ion-text-center">
      <ion-icon class="login-icon" name="person-circle-outline"></ion-icon>
    </div>
    
    <ion-card-header>
      <ion-card-title class="ion-text-center">Registro</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <form [formGroup]="registerForm" (ngSubmit)="register(registerForm.value)">
        <ion-item>
          <ion-input label="Nombre" labelPlacement="floating" placeholder="Escriba su nombre" formControlName="name"></ion-input>
        </ion-item>
        <ng-container *ngFor="let validation of validation_messages.name">
          <div *ngIf="(
          registerForm.get('name')?.hasError(validation.type) && 
          registerForm.get('name')?.dirty)">
            {{validation.message}}
          </div>
        </ng-container>

        <ion-item>
          <ion-input label="Apellido" labelPlacement="floating" placeholder="Escriba su apellido" formControlName="last_name"></ion-input>
        </ion-item>
        <ng-container *ngFor="let validation of validation_messages.last_name">
          <div *ngIf="(
          registerForm.get('last_name')?.hasError(validation.type) && 
          registerForm.get('last_name')?.dirty)">
            {{validation.message}}
          </div>
        </ng-container>

        <ion-item>
          <ion-input label="Email" labelPlacement="floating" placeholder="Escriba su email" formControlName="email" type="email"></ion-input>
        </ion-item>
        <div>
          <ng-container *ngFor="let validation of validation_messages.email">
            <div *ngIf="(
            registerForm.get('email')?.hasError(validation.type) && 
            registerForm.get('email')?.dirty)">
              {{validation.message}}
            </div>
          </ng-container>
        </div>

        <ion-item>
          <ion-input label="Contraseña" labelPlacement="floating" placeholder="Escriba su nombre" formControlName="password" type="password"></ion-input>
        </ion-item>
        <div>
          <ng-container *ngFor="let validation of validation_messages.password">
            <div *ngIf="(
            registerForm.get('password')?.hasError(validation.type) && 
            registerForm.get('password')?.dirty)">
              {{validation.message}}
            </div>
          </ng-container>
        </div>

        <ion-button type="submit" expand="block" [disabled]="!registerForm.valid">
          Registrar          
          <ion-icon name="person-add-outline"></ion-icon>
        </ion-button>
        <p class="ion-text-center">ó</p>
        <ion-button (click)="login()" expand="block">
          Login
          <ion-icon name="log-in-outline"></ion-icon>
        </ion-button>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>
